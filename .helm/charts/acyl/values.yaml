# Default values for acyl.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
replicaCount: 2
maxSurge: 4
namespace: default
create_cluster_role_binding: false
run_migrations: false
enable_cronjob: false
image:
  repository: saviogl/acyl
  tag: latest
  pullPolicy: Always
  pullSecret: pull-secret
app:
  env_limit: '80'
  disable_tls: true  # required for argo ingress
  secrets_backend: "env"
  secrets_mapping: "ACYL_{{ .ID }}"
  secrets_from_env: true
  debug_endpoints: true
  metrics_tags: 'latest'
  furan_addr: "furan:4000"
  k8s_group_bindings: ""
  k8s_secret_injections: "image-pull-secret=k8s/image_pull_secret"
  k8s_client_disable_http2: true # work around bug in using HTTP2 for k8s client calls
  operation_timeout_override: ''
  ui:
    base_url: 'http://localhost:4000'
    enforce_oauth: false
    branding:
      logo_url: ''
      logo_width: ''
      logo_height: ''
      logo_link: ''
      logo_alt: ''
      logo_style: ''
      favicon_url: ''
      title: ''
      title_style: ''
      additional_doc_urls: {}
  failure_reports:
    s3:
      region: ''
      bucket: ''
      keyprefix: 'acyl/'
  cleanup:
    legacy_reaper_interval_secs: 300
    schedule: "@hourly"
    k8s_max_age: 336h # 14 days
    destroyed_envs_max_age: 720h # 30 days
    event_logs_max_age: 720h
serviceaccount: serviceaccount
service:
  name: acyl
  type: ClusterIP
  internalPort: 4000
ingress:
  enabled: false
rbac:
  cluster_role: cluster-admin
  cluster_role_binding:
    name: acyl
postgresql:
  uri: "postgresql://postgres:root@postgresql-postgresql:5432/acyl?sslmode=disable"
resources:
  limits:
    cpu: 1
    memory: 1Gi
  requests:
    cpu: 1
    memory: 256Mi

furan:
  db:
    nodes: "acyl-scylladb"
  kafka:
    zookeeper:
      service:
        name: acyl-zookeeper